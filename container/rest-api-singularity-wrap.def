###########################################################################################################################
#
# This containerises the Web App server
#
# Useful environment variables:
# - AUTOREDUCTION_PRODUCTION - used by Autoreduce to decide whether to use settings for production
#
# Expected mounts/volumes/binds:
# - /isis - this should be the ISIS archive mount point, e.g. --bind /isis:/isis
# - /archive - alternative mount for the ISIS archive, because Mantid might look in it, e.g. --bind /isis:/archive
#
###########################################################################################################################

Bootstrap: docker-daemon
From: autoreduction/rest-api:latest
Includecmd: no

%startscript
    gunicorn --workers 2 -b 0.0.0.0:8000 autoreduce_rest_api.autoreduce_django.wsgi
